(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const u of f.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function o(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(d){if(d.ep)return;d.ep=!0;const f=o(d);fetch(d.href,f)}})();window.FontAwesomeKitConfig={id:121549711,version:"6.7.1",token:"1eaf04ef97",method:"css",baseUrl:"https://ka-f.fontawesome.com",license:"free",asyncLoading:{enabled:!1},autoA11y:{enabled:!0},baseUrlKit:"https://kit.fontawesome.com",detectConflictsUntil:null,iconUploads:{},minify:{enabled:!0},v4FontFaceShim:{enabled:!0},v4shim:{enabled:!0},v5FontFaceShim:{enabled:!0}};(function(r){typeof define=="function"&&define.amd?define("kit-loader",r):r()})(function(){function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,c)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?r(Object(a),!0).forEach(function(c){i(e,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(a,c))})}return e}function o(e){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t,a){return(t=function(c){var s=function(l,m){if(typeof l!="object"||l===null)return l;var y=l[Symbol.toPrimitive];if(y!==void 0){var g=y.call(l,m||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(l)}(c,"string");return typeof s=="symbol"?s:String(s)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e,t){return function(a){if(Array.isArray(a))return a}(e)||function(a,c){var s=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(s!=null){var l,m,y,g,w=[],S=!0,H=!1;try{if(y=(s=s.call(a)).next,c!==0)for(;!(S=(l=y.call(s)).done)&&(w.push(l.value),w.length!==c);S=!0);}catch(Y){H=!0,m=Y}finally{try{if(!S&&s.return!=null&&(g=s.return(),Object(g)!==g))return}finally{if(H)throw m}}return w}}(e,t)||f(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(e,t){if(e){if(typeof e=="string")return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(e,t):void 0}}function u(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,c=new Array(t);a<t;a++)c[a]=e[a];return c}var p,h,v,b,E,_=(i(p={},"classic","Classic"),i(p,"duotone","Duotone"),i(p,"sharp","Sharp"),i(p,"sharp-duotone","Sharp Duotone"),["fak","fa-kit","fakd","fa-kit-duotone"]),q=(i(h={},"kit","Kit"),i(h,"kit-duotone","Kit Duotone"),"duotone-group"),C="swap-opacity",N="primary",F="secondary",T=(i(v={},"classic","Classic"),i(v,"duotone","Duotone"),i(v,"sharp","Sharp"),i(v,"sharp-duotone","Sharp Duotone"),i(b={},"kit","Kit"),i(b,"kit-duotone","Kit Duotone"),["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt"].concat(["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"])),ne=[1,2,3,4,5,6,7,8,9,10],Ae=ne.concat([11,12,13,14,15,16,17,18,19,20]);[].concat((E=Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),function(e){if(Array.isArray(e))return u(e)}(E)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(E)||f(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),["solid","regular","light","thin","duotone","brands"],["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",q,C,N,F]).concat(ne.map(function(e){return"".concat(e,"x")})).concat(Ae.map(function(e){return"w-".concat(e)}));function M(e,t){var a=t&&t.addOn||"",c=t&&t.baseFilename||e.license+a,s=t&&t.minify?".min":"",l=t&&t.fileSuffix||e.method,m=t&&t.subdir||e.method;return e.baseUrl+"/releases/"+(e.version==="latest"?"latest":"v".concat(e.version))+"/"+m+"/"+c+s+"."+l}function oe(e,t){var a=t||["fa"],c="."+Array.prototype.join.call(a,",."),s=e.querySelectorAll(c);Array.prototype.forEach.call(s,function(l){var m=l.getAttribute("title");l.setAttribute("aria-hidden","true");var y=!l.nextElementSibling||!l.nextElementSibling.classList.contains("sr-only");if(m&&y){var g=e.createElement("span");g.innerHTML=m,g.classList.add("sr-only"),l.parentNode.insertBefore(g,l.nextSibling)}})}var B,Ce=function(){},re=typeof global<"u"&&global.process!==void 0&&typeof global.process.emit=="function",je=typeof setImmediate>"u"?setTimeout:setImmediate,k=[];function Oe(){for(var e=0;e<k.length;e++)k[e][0](k[e][1]);k=[],B=!1}function D(e,t){k.push([e,t]),B||(B=!0,je(Oe,0))}function ae(e){var t=e.owner,a=t._state,c=t._data,s=e[a],l=e.then;if(typeof s=="function"){a="fulfilled";try{c=s(c)}catch(m){x(l,m)}}ce(l,c)||(a==="fulfilled"&&z(l,c),a==="rejected"&&x(l,c))}function ce(e,t){var a;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&(typeof t=="function"||o(t)==="object")){var c=t.then;if(typeof c=="function")return c.call(t,function(s){a||(a=!0,t===s?ie(e,s):z(e,s))},function(s){a||(a=!0,x(e,s))}),!0}}catch(s){return a||x(e,s),!0}return!1}function z(e,t){e!==t&&ce(e,t)||ie(e,t)}function ie(e,t){e._state==="pending"&&(e._state="settled",e._data=t,D(Ie,e))}function x(e,t){e._state==="pending"&&(e._state="settled",e._data=t,D(ke,e))}function se(e){e._then=e._then.forEach(ae)}function Ie(e){e._state="fulfilled",se(e)}function ke(e){e._state="rejected",se(e),!e._handled&&re&&global.process.emit("unhandledRejection",e._data,e)}function xe(e){global.process.emit("rejectionHandled",e)}function L(e){if(typeof e!="function")throw new TypeError("Promise resolver "+e+" is not a function");if(!(this instanceof L))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,a){function c(s){x(a,s)}try{t(function(s){z(a,s)},c)}catch(s){c(s)}}(e,this)}L.prototype={constructor:L,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var a={owner:this,then:new this.constructor(Ce),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state==="rejected"&&re&&D(xe,this)),this._state==="fulfilled"||this._state==="rejected"?D(ae,a):this._then.push(a),a.then},catch:function(e){return this.then(null,e)}},L.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new L(function(t,a){var c=[],s=0;function l(g){return s++,function(w){c[g]=w,--s||t(c)}}for(var m,y=0;y<e.length;y++)(m=e[y])&&typeof m.then=="function"?m.then(l(y),a):c[y]=m;s||t(c)})},L.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new L(function(t,a){for(var c,s=0;s<e.length;s++)(c=e[s])&&typeof c.then=="function"?c.then(t,a):t(c)})},L.resolve=function(e){return e&&o(e)==="object"&&e.constructor===L?e:new L(function(t){t(e)})},L.reject=function(e){return new L(function(t,a){a(e)})};var j=typeof Promise=="function"?Promise:L;function V(e,t){var a=t.fetch,c=t.XMLHttpRequest,s=t.token,l=e;return s&&!function(m){return m.indexOf("kit-upload.css")>-1}(e)&&("URLSearchParams"in window?(l=new URL(e)).searchParams.set("token",s):l=l+"?token="+encodeURIComponent(s)),l=l.toString(),new j(function(m,y){if(typeof a=="function")a(l,{mode:"cors",cache:"default"}).then(function(w){if(w.ok)return w.text();throw new Error("")}).then(function(w){m(w)}).catch(y);else if(typeof c=="function"){var g=new c;g.addEventListener("loadend",function(){this.responseText?m(this.responseText):y(new Error(""))}),["abort","error","timeout"].map(function(w){g.addEventListener(w,function(){y(new Error(""))})}),g.open("GET",l),g.send()}else y(new Error(""))})}function Pe(e,t,a){var c=e;return[[/(url\("?)\.\.\/\.\.\/\.\./g,function(s,l){return"".concat(l).concat(t)}],[/(url\("?)\.\.\/webfonts/g,function(s,l){return"".concat(l).concat(t,"/releases/v").concat(a,"/webfonts")}],[/(url\("?)https:\/\/kit-free([^.])*\.fontawesome\.com/g,function(s,l){return"".concat(l).concat(t)}]].forEach(function(s){var l=d(s,2),m=l[0],y=l[1];c=c.replace(m,y)}),c}function qe(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},c=t.document||c,s=oe.bind(oe,c,[].concat(T,_.map(function(S){return"fa-".concat(S)})));e.autoA11y.enabled&&a(s);var l=e.subsetPath&&e.baseUrl+"/"+e.subsetPath,m=[{id:"fa-main",addOn:void 0,url:l}];if(e.v4shim&&e.v4shim.enabled&&m.push({id:"fa-v4-shims",addOn:"-v4-shims"}),e.v5FontFaceShim&&e.v5FontFaceShim.enabled&&m.push({id:"fa-v5-font-face",addOn:"-v5-font-face"}),e.v4FontFaceShim&&e.v4FontFaceShim.enabled&&m.push({id:"fa-v4-font-face",addOn:"-v4-font-face"}),!l&&e.customIconsCssPath){var y=e.customIconsCssPath.indexOf("kit-upload.css")>-1?e.baseUrlKit:e.baseUrl,g=y+"/"+e.customIconsCssPath;m.push({id:"fa-kit-upload",url:g})}var w=m.map(function(S){return new j(function(H,Y){var De=S.url||M(e,{addOn:S.addOn,minify:e.minify.enabled}),fe={id:S.id},Ue=e.subset?fe:n(n(n({},t),fe),{},{baseUrl:e.baseUrl,version:e.version,id:S.id,contentFilter:function(G,me){return Pe(G,me.baseUrl,me.version)}});V(De,t).then(function(G){H(Fe(G,Ue))}).catch(Y)})});return j.all(w)}function Fe(e,t){var a=t.contentFilter||function(l,m){return l},c=document.createElement("style"),s=document.createTextNode(a(e,t));return c.appendChild(s),c.media="all",t.id&&c.setAttribute("id",t.id),t&&t.detectingConflicts&&t.detectionIgnoreAttr&&c.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),c}function Te(e,t){t.autoA11y=e.autoA11y.enabled,e.license==="pro"&&(t.autoFetchSvg=!0,t.fetchSvgFrom=e.baseUrl+"/releases/"+(e.version==="latest"?"latest":"v".concat(e.version))+"/svgs",t.fetchUploadedSvgFrom=e.uploadsUrl);var a=[];return e.v4shim.enabled&&a.push(new j(function(c,s){V(M(e,{addOn:"-v4-shims",minify:e.minify.enabled}),t).then(function(l){c(le(l,n(n({},t),{},{id:"fa-v4-shims"})))}).catch(s)})),a.push(new j(function(c,s){V(e.subsetPath&&e.baseUrl+"/"+e.subsetPath||M(e,{minify:e.minify.enabled}),t).then(function(l){var m=le(l,n(n({},t),{},{id:"fa-main"}));c(function(y,g){var w=g&&g.autoFetchSvg!==void 0?g.autoFetchSvg:void 0,S=g&&g.autoA11y!==void 0?g.autoA11y:void 0;return S!==void 0&&y.setAttribute("data-auto-a11y",S?"true":"false"),w&&(y.setAttributeNode(document.createAttribute("data-auto-fetch-svg")),y.setAttribute("data-fetch-svg-from",g.fetchSvgFrom),y.setAttribute("data-fetch-uploaded-svg-from",g.fetchUploadedSvgFrom)),y}(m,t))}).catch(s)})),j.all(a)}function le(e,t){var a=document.createElement("SCRIPT"),c=document.createTextNode(e);return a.appendChild(c),a.referrerPolicy="strict-origin",t.id&&a.setAttribute("id",t.id),t&&t.detectingConflicts&&t.detectionIgnoreAttr&&a.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),a}function ue(e){var t,a=[],c=document,s=c.documentElement.doScroll,l=(s?/^loaded|^c/:/^loaded|^i|^c/).test(c.readyState);l||c.addEventListener("DOMContentLoaded",t=function(){for(c.removeEventListener("DOMContentLoaded",t),l=1;t=a.shift();)t()}),l?setTimeout(e,0):a.push(e)}function Me(e){typeof MutationObserver<"u"&&new MutationObserver(e).observe(document,{childList:!0,subtree:!0})}try{if(window.FontAwesomeKitConfig){var P=window.FontAwesomeKitConfig,U={detectingConflicts:P.detectConflictsUntil&&new Date<=new Date(P.detectConflictsUntil),detectionIgnoreAttr:"data-fa-detection-ignore",fetch:window.fetch,token:P.token,XMLHttpRequest:window.XMLHttpRequest,document},O=document.currentScript,de=O?O.parentElement:document.head;(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.method==="js"?Te(e,t):e.method==="css"?qe(e,t,function(a){ue(a),Me(a)}):void 0})(P,U).then(function(e){e.map(function(t){try{de.insertBefore(t,O?O.nextSibling:null)}catch{de.appendChild(t)}}),U.detectingConflicts&&O&&ue(function(){O.setAttributeNode(document.createAttribute(U.detectionIgnoreAttr));var t=function(a,c){var s=document.createElement("script");return c&&c.detectionIgnoreAttr&&s.setAttributeNode(document.createAttribute(c.detectionIgnoreAttr)),s.src=M(a,{baseFilename:"conflict-detection",fileSuffix:"js",subdir:"js",minify:a.minify.enabled}),s}(P,U);document.body.appendChild(t)})}).catch(function(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))})}}catch(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))}});function ve(r){r.addEventListener("input",()=>{const n=r.selectionStart;let o=r.value.replace(/\D/g,"");o.startsWith("7")||(o="7"+o);let i="+7";o.length>1&&(i+=` (${o.substring(1,4)}`),o.length>=5&&(i+=`) ${o.substring(4,7)}`),o.length>=8&&(i+=`-${o.substring(7,9)}`),o.length>=10&&(i+=`-${o.substring(9,11)}`);const d=r.value.length;r.value=i;const u=r.value.length-d;n&&(r.selectionStart=r.selectionEnd=n+u)}),r.addEventListener("blur",()=>{r.value==="+7"&&(r.value="")})}function ye(r){localStorage.setItem("contacts",JSON.stringify(r))}function A(){const r=localStorage.getItem("contacts")||"{}";return JSON.parse(r)}function He(r){const n=A();for(const[o,i]of Object.entries(n))n[o]=i.filter(d=>d.id!==r),n[o].length||delete n[o];ye(n)}function $e(r,n,o,i,d,f){const u={status:!0,message:""};if(!n||!o||!i)return u.status=!1,u.message="All fields are required!",u;const p=/\d/;if(p.test(n))return u.status=!1,u.message="Name must not contain numbers!",u;if(p.test(o))return u.status=!1,u.message="Vacancy must not contain numbers!",u;if(!r)return u.status=!1,u.message="No card for this letter!",u;if(!/^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(i))return u.status=!1,u.message="Invalid phone format! Use +7 (XXX) XXX-XX-XX",u;if(!d||i!==f){const v=A();for(const b of Object.values(v))if(b.some(E=>E.phone===i))return u.status=!1,u.message="A contact with this phone number already exists!",u}return u}function ge(r,n,o=!1,i=""){const{name:d,vacancy:f,phone:u}=n,p=$e(r,d,f,u,o,i);return p.status?!0:(alert(p.message),!1)}const K=document.querySelector("body");function be(r,n){const o=document.querySelector(r),i=o==null?void 0:o.querySelector(".modal__close"),d=o==null?void 0:o.querySelector(".modal__content");o==null||o.classList.add("opened"),K==null||K.classList.add("no-scroll");const f=()=>{h()},u=v=>{d!=null&&d.contains(v.target)||h()},p=v=>{v.key==="Escape"&&h()},h=()=>{i==null||i.removeEventListener("click",f),o==null||o.removeEventListener("click",u),document.removeEventListener("keydown",p),n()};i==null||i.addEventListener("click",f),o==null||o.addEventListener("click",v=>u(v)),document.addEventListener("keydown",p)}function we(r){if(r){const n=document.querySelector(r);n==null||n.classList.remove("opened")}else document.querySelectorAll(".modal.opened").forEach(o=>o.classList.remove("opened"));K.classList.remove("no-scroll")}function Ke(r,n,o){const{name:i,vacancy:d,phone:f,id:u}=r,p=document.querySelector(".modal__overlay--edit"),h=document.querySelector(".modal--edit #js-edit-save"),v=document.querySelector(".modal--edit #js-edit-name"),b=document.querySelector(".modal--edit #js-edit-vacancy"),E=document.querySelector(".modal--edit #js-edit-phone");ve(E),v.value=i,b.value=d,E.value=f;const _=()=>{const C={id:u,name:v.value,vacancy:b.value,phone:E.value},N=i.charAt(0).toLowerCase(),F=C.name.charAt(0).toLowerCase(),T=document.getElementById(`letter-${F}`);ge(T,C,!0,f)&&(N===F?Be(n,C,o):(_e(n,o),Ee(T,C)),q())};h.addEventListener("click",_);const q=()=>{p.classList.remove("opened"),we(".modal--edit"),h.removeEventListener("click",_)};p.classList.add("opened"),be(".modal--edit",q)}function Le(r){const n=document.createElement("div");return n.classList.add("card__info"),r.append(n),n}function te(r,n,o=!1){var h,v;const{name:i,vacancy:d,phone:f,id:u}=n,p=document.createElement("div");p.classList.add("contact"),p.dataset.id=u,p.innerHTML=`
        <p class="contact__text">
            Name: ${i}<br/>
            Vacancy: ${d}<br/>
            Phone: ${f}
        </p>
        <i class="fa-solid fa-pen js-contact-edit"></i>
        <i class="fa-solid fa-xmark js-contact-delete"></i>
    `,(h=p.querySelector(".js-contact-delete"))==null||h.addEventListener("click",b=>{b.stopPropagation(),_e(p,o)}),(v=p.querySelector(".js-contact-edit"))==null||v.addEventListener("click",b=>{b.stopPropagation(),ze(p,o)}),r.append(p)}function he(r){const n=r.closest(".contacts__card"),o=n==null?void 0:n.querySelector(".card__num");if(!o||!n){console.error("Card node or number node not found");return}const i=parseInt(o==null?void 0:o.innerText,10)||0;i<=1?(o.innerText="",n.classList.remove("filled","show")):o.innerText=String(i-1),r.remove()}function pe(r,n){const{name:o,vacancy:i,phone:d}=r,f=n.querySelector(".contact__text");if(!f){console.error("Contact text node not found");return}f.innerHTML=`
        <p class="contact__text">
            Name: ${o}<br/>
            Vacancy: ${i}<br/>
            Phone: ${d}
        </p>
        `}function Xe(r){const n=r.querySelector(".card__num");if(!n){console.error("Number node not found");return}const o=parseInt(n.innerText,10)||0;n.innerText=String(o+1)}function Se(r){const{name:n,vacancy:o,phone:i,id:d}=r,f=n.charAt(0).toLowerCase(),u=A();for(const[p,h]of Object.entries(u)){const v=h.findIndex(b=>b.id===d);if(v!==-1){h.splice(v,1),h.length||delete u[p];break}}u[f]||(u[f]=[]),u[f].push({id:d,name:n,vacancy:o,phone:i}),ye(u)}function Ee(r,n){const o=r.querySelector(".card__info")||Le(r);r.classList.add("filled"),Xe(r),n.id=Ve(n.id),te(o,n),Se(n)}function Re(r){const n=A();let o;for(const i of Object.values(n))o=i.find(d=>d.id===r);return o||null}function Ne(){const r=A();for(const[n,o]of Object.entries(r)){const i=document.getElementById(`letter-${n}`);if(!i)return;i.classList.add("filled");const d=i.querySelector(".card__info")||Le(i);o.forEach(u=>{te(d,u)});const f=i.querySelector(".card__num");if(!f){console.error("Number node not found");return}o.length?f.innerText=String(o.length):f.innerText=""}}function Be(r,n,o){o&&document.querySelectorAll(".contacts .contact").forEach(d=>{d.dataset.id===n.id&&pe(n,d)}),pe(n,r),Se(n)}function ze(r,n){const o=r.dataset.id;if(!o){console.error("Contact node id not found");return}const i=Re(o);if(!i){console.error("Contact not found");return}Ke(i,r,n)}function _e(r,n=!1){const o=r.dataset.id;if(!o){console.error("Contact node id not found");return}if(n){const i=document.querySelector(".modal--search__contacts");document.querySelectorAll(".contacts .contact").forEach(f=>{f.dataset.id===o&&he(f)}),r.remove(),i.childElementCount||i.classList.remove("filled")}else he(r);He(o)}function Ve(r){return r||`contact_${Date.now()}_${Math.random().toString(36).slice(2,11)}`}function Ye(...r){r.forEach(n=>n.value="")}function Ge(r){r.forEach((n,o)=>{n.style.zIndex=String(r.length-o)})}const Ze=r=>r.replace(/\D/g,""),$=r=>r.toLowerCase().replace(/\s+/g,""),I=document.querySelector(".modal__overlay--search");function We(){const r=document.querySelector(".modal--search #js-search-all"),n=document.querySelector(".modal--search .modal--search__contacts"),o=document.querySelector(".modal--search #js-search-input"),i=h=>!!(n!=null&&n.querySelector(`.contact[data-id="${h.id}"]`)),d=h=>{h.forEach(v=>{i(v)||te(n,v,!0)}),n==null||n.classList.add("filled")},f=()=>{const h=$(o.value),v=A();if(!h){n.innerHTML="",n.classList.remove("filled");return}const b=Object.values(v).flatMap(E=>E.filter(_=>$(_.name).includes(h)||$(_.vacancy).includes(h)||$(_.phone).includes(h)||Ze(_.phone).includes(h)));if(n.innerHTML="",!b.length){n.classList.add("filled"),n.innerHTML="<p>No matching contacts found.</p>";return}d(b)},u=()=>{const h=A();if(!Object.keys(h).length){n.classList.add("filled"),n.innerHTML="<p>No contacts found.</p>";return}const v=Object.values(h).flat();d(v)},p=()=>{I==null||I.classList.remove("opened"),we(".modal--search"),r==null||r.removeEventListener("click",u),o==null||o.removeEventListener("input",f),o.value="",n.classList.remove("filled"),n.innerHTML=""};r.addEventListener("click",u),o.addEventListener("input",f),I==null||I.classList.add("opened"),be(".modal--search",p)}const Z=document.getElementById("js-btn-add"),W=document.getElementById("js-btn-clear"),J=document.getElementById("js-btn-search"),Q=document.getElementById("js-input-name"),ee=document.getElementById("js-input-vacancy"),X=document.getElementById("js-input-phone"),R=document.querySelectorAll(".contacts__card");document.addEventListener("DOMContentLoaded",et);Z==null||Z.addEventListener("click",Je);W==null||W.addEventListener("click",Qe);J==null||J.addEventListener("click",We);R.forEach(r=>{const n=r.querySelector(".card__container");n==null||n.addEventListener("click",()=>{r.classList.toggle("show")})});function Je(){if(!Q||!ee||!X){console.error("Input nodes are missing");return}const r={id:void 0,name:Q.value,vacancy:ee.value,phone:X.value},n=r.name.charAt(0).toLowerCase(),o=Array.from(R).find(i=>i.id.replace("letter-","")===n);ge(o,r)&&(Ee(o,r),Ye(Q,ee,X))}function Qe(){R.forEach(r=>{const n=r.querySelector(".card__info"),o=r.querySelector(".card__num");n&&o&&(n.remove(),o.innerText="",r.classList.remove("filled"))}),localStorage.removeItem("contacts")}function et(){Ne(),ve(X),Ge(R)}
